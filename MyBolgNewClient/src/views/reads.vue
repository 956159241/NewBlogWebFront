<template>
  <div class="container">
    <!--头部轮播-->
    <div class="head">
      <div class="box2">
        <div class="banner_tit">推荐书籍</div>
        <div class="hot_role">
          <ul id="centerwell">
            <li>
              <h3><img alt="黑子哲也" src="../assets/images/20141212205639563966.jpg"></h3>
              <div class="hot_content">
                <div class="hot_left"><a href="#"><img alt="黑子哲也" class="img_box" src="../assets/images/w_20141006135756575615.jpg"></a></div>
                <div class="hot_top">
                  <dl class="hot_line">
                    <dd>
                      <div class="t16 yahei">
                        <span><a href="#">神崎·H·亚里亚</a></span>
                        <span class="role_fen ml15">8.9</span>
                      </div>
                      <div class="mt10"><span class="bold">性别：</span><span class="color444">女</span></div>
                      <div class="mt5">
                        <span class="bold">属性：</span>
                        <span class="color444">
										<a href="#" class="mr7">长发</a>
										<a href="#" class="mr7">傲娇</a>
										<a href="#" class="mr7">贫RU</a>
										<a href="#" class="mr7">双马尾</a>
										<a href="#" class="mr7">枪械少女</a>
										<a href="#" class="mr7">萝莉</a>
										<a href="#" class="mr7">虎牙</a>
									</span>
                      </div>
                      <div class="mt5"><span class="bold">动漫：</span><span class="color444"><a href="#">《绯弹的亚里亚》</a></span></div>
                      <div class="mt5"><span class="bold">地区：</span><span class="color444"><a>日本</a></span></div>
                    </dd>
                    <div class="clear"></div>
                  </dl>
                </div>
                <div class="clear"></div>
                <div class="mt10">
                  <span class="bold">动漫人物介绍：</span>
                  <span class="color444">动漫作品《绯弹的亚里亚》中的女主角，英国著名侦探夏洛克·福尔摩斯的后裔，福尔摩斯四世。在第七卷可得知出生日为9月23日。没有遗传到祖先优秀推理能力的她，被家族视为废物。但性格不服输又自尊极强的亚里亚，凭借自身天生的战斗感及努力，在英国武侦界闯出了名气</span>
                  <span class="ml20"><a href="#">详情&gt;&gt;</a></span>
                </div>
              </div>
            </li>
            <li>
              <h3><img alt="东乡美森" src="../assets/images/20141203132722272255.jpg"></h3>
              <div class="hot_content">
                <div class="hot_left"><a href="#"><img alt="东乡美森" class="img_box" src="../assets/images/w_20141204135621562190.jpg"></a></div>
                <div class="hot_top">
                  <dl class="hot_line">
                    <dd>
                      <div class="t16 yahei">
                        <span><a href="#">神崎·H·亚里亚</a></span>
                        <span class="role_fen ml15">8.9</span>
                      </div>
                      <div class="mt10"><span class="bold">性别：</span><span class="color444">女</span></div>
                      <div class="mt5">
                        <span class="bold">属性：</span>
                        <span class="color444">
										<a href="#" class="mr7">长发</a>
										<a href="#" class="mr7">傲娇</a>
										<a href="#" class="mr7">贫RU</a>
										<a href="#" class="mr7">双马尾</a>
										<a href="#" class="mr7">枪械少女</a>
										<a href="#" class="mr7">萝莉</a>
										<a href="#" class="mr7">虎牙</a>
									</span>
                      </div>
                      <div class="mt5"><span class="bold">动漫：</span><span class="color444"><a href="#">《绯弹的亚里亚》</a></span></div>
                      <div class="mt5"><span class="bold">地区：</span><span class="color444"><a>日本</a></span></div>
                    </dd>
                    <div class="clear"></div>
                  </dl>
                </div>
                <div class="clear"></div>
                <div class="mt10">
                  <span class="bold">动漫人物介绍：</span>
                  <span class="color444">动漫作品《绯弹的亚里亚》中的女主角，英国著名侦探夏洛克·福尔摩斯的后裔，福尔摩斯四世。在第七卷可得知出生日为9月23日。没有遗传到祖先优秀推理能力的她，被家族视为废物。但性格不服输又自尊极强的亚里亚，凭借自身天生的战斗感及努力，在英国武侦界闯出了名气</span>
                  <span class="ml20"><a href="#">详情&gt;&gt;</a></span>
                </div>
              </div>
            </li>
            <li>
              <h3><img alt="长门有希" src="../assets/images/20141109103459345940.jpg"></h3>
              <div class="hot_content">
                <div class="hot_left"><a href="#"><img alt="长门有希" class="img_box" src="../assets/images/w_20141103131840184098.jpg"></a></div>
                <div class="hot_top">
                  <dl class="hot_line">
                    <dd>
                      <div class="t16 yahei">
                        <span><a href="#">神崎·H·亚里亚</a></span>
                        <span class="role_fen ml15">8.9</span>
                      </div>
                      <div class="mt10"><span class="bold">性别：</span><span class="color444">女</span></div>
                      <div class="mt5">
                        <span class="bold">属性：</span>
                        <span class="color444">
										<a href="#" class="mr7">长发</a>
										<a href="#" class="mr7">傲娇</a>
										<a href="#" class="mr7">贫RU</a>
										<a href="#" class="mr7">双马尾</a>
										<a href="#" class="mr7">枪械少女</a>
										<a href="#" class="mr7">萝莉</a>
										<a href="#" class="mr7">虎牙</a>
									</span>
                      </div>
                      <div class="mt5"><span class="bold">动漫：</span><span class="color444"><a href="#">《绯弹的亚里亚》</a></span></div>
                      <div class="mt5"><span class="bold">地区：</span><span class="color444"><a>日本</a></span></div>
                    </dd>
                    <div class="clear"></div>
                  </dl>
                </div>
                <div class="clear"></div>
                <div class="mt10">
                  <span class="bold">动漫人物介绍：</span>
                  <span class="color444">动漫作品《绯弹的亚里亚》中的女主角，英国著名侦探夏洛克·福尔摩斯的后裔，福尔摩斯四世。在第七卷可得知出生日为9月23日。没有遗传到祖先优秀推理能力的她，被家族视为废物。但性格不服输又自尊极强的亚里亚，凭借自身天生的战斗感及努力，在英国武侦界闯出了名气</span>
                  <span class="ml20"><a href="#">详情&gt;&gt;</a></span>
                </div>
              </div>
            </li>
            <li>
              <h3><img alt="蒙奇·D·路飞" src="../assets/images/2014070607210321370.jpg"></h3>
              <div class="hot_content">
                <div class="hot_left"><a href="#"><img alt="蒙奇·D·路飞" class="img_box" src="../assets/images/w_2014100614182218227.jpg"></a></div>
                <div class="hot_top">
                  <dl class="hot_line">
                    <dd>
                      <div class="t16 yahei">
                        <span><a href="#">神崎·H·亚里亚</a></span>
                        <span class="role_fen ml15">8.9</span>
                      </div>
                      <div class="mt10"><span class="bold">性别：</span><span class="color444">女</span></div>
                      <div class="mt5">
                        <span class="bold">属性：</span>
                        <span class="color444">
										<a href="#" class="mr7">长发</a>
										<a href="#" class="mr7">傲娇</a>
										<a href="#" class="mr7">贫RU</a>
										<a href="#" class="mr7">双马尾</a>
										<a href="#" class="mr7">枪械少女</a>
										<a href="#" class="mr7">萝莉</a>
										<a href="#" class="mr7">虎牙</a>
									</span>
                      </div>
                      <div class="mt5"><span class="bold">动漫：</span><span class="color444"><a href="#">《绯弹的亚里亚》</a></span></div>
                      <div class="mt5"><span class="bold">地区：</span><span class="color444"><a>日本</a></span></div>
                    </dd>
                    <div class="clear"></div>
                  </dl>
                </div>
                <div class="clear"></div>
                <div class="mt10">
                  <span class="bold">动漫人物介绍：</span>
                  <span class="color444">动漫作品《绯弹的亚里亚》中的女主角，英国著名侦探夏洛克·福尔摩斯的后裔，福尔摩斯四世。在第七卷可得知出生日为9月23日。没有遗传到祖先优秀推理能力的她，被家族视为废物。但性格不服输又自尊极强的亚里亚，凭借自身天生的战斗感及努力，在英国武侦界闯出了名气</span>
                  <span class="ml20"><a href="#">详情&gt;&gt;</a></span>
                </div>
              </div>
            </li>
            <li>
              <h3><img alt="东兔角" src="../assets/images/2014070607310131167.jpg"></h3>
              <div class="hot_content">
                <div class="hot_left"><a href="#"><img alt="东兔角" class="img_box" src="../assets/images/w_2014100614051151165.jpg"></a></div>
                <div class="hot_top">
                  <dl class="hot_line">
                    <dd>
                      <div class="t16 yahei">
                        <span><a href="#">神崎·H·亚里亚</a></span>
                        <span class="role_fen ml15">8.9</span>
                      </div>
                      <div class="mt10"><span class="bold">性别：</span><span class="color444">女</span></div>
                      <div class="mt5">
                        <span class="bold">属性：</span>
                        <span class="color444">
										<a href="#" class="mr7">长发</a>
										<a href="#" class="mr7">傲娇</a>
										<a href="#" class="mr7">贫RU</a>
										<a href="#" class="mr7">双马尾</a>
										<a href="#" class="mr7">枪械少女</a>
										<a href="#" class="mr7">萝莉</a>
										<a href="#" class="mr7">虎牙</a>
									</span>
                      </div>
                      <div class="mt5"><span class="bold">动漫：</span><span class="color444"><a href="#">《绯弹的亚里亚》</a></span></div>
                      <div class="mt5"><span class="bold">地区：</span><span class="color444"><a>日本</a></span></div>
                    </dd>
                    <div class="clear"></div>
                  </dl>
                </div>
                <div class="clear"></div>
                <div class="mt10">
                  <span class="bold">动漫人物介绍：</span>
                  <span class="color444">动漫作品《绯弹的亚里亚》中的女主角，英国著名侦探夏洛克·福尔摩斯的后裔，福尔摩斯四世。在第七卷可得知出生日为9月23日。没有遗传到祖先优秀推理能力的她，被家族视为废物。但性格不服输又自尊极强的亚里亚，凭借自身天生的战斗感及努力，在英国武侦界闯出了名气</span>
                  <span class="ml20"><a href="#">详情&gt;&gt;</a></span>
                </div>
              </div>
            </li>
            <li>
              <h3><img alt="东兔角" src="../assets/images/2014070607310131167.jpg"></h3>
              <div class="hot_content">
                <div class="hot_left"><a href="#"><img alt="东兔角" class="img_box" src="../assets/images/w_2014100614051151165.jpg"></a></div>
                <div class="hot_top">
                  <dl class="hot_line">
                    <dd>
                      <div class="t16 yahei">
                        <span><a href="#">神崎·H·亚里亚</a></span>
                        <span class="role_fen ml15">8.9</span>
                      </div>
                      <div class="mt10"><span class="bold">性别：</span><span class="color444">女</span></div>
                      <div class="mt5">
                        <span class="bold">属性：</span>
                        <span class="color444">
										<a href="#" class="mr7">长发</a>
										<a href="#" class="mr7">傲娇</a>
										<a href="#" class="mr7">贫RU</a>
										<a href="#" class="mr7">双马尾</a>
										<a href="#" class="mr7">枪械少女</a>
										<a href="#" class="mr7">萝莉</a>
										<a href="#" class="mr7">虎牙</a>
									</span>
                      </div>
                      <div class="mt5"><span class="bold">动漫：</span><span class="color444"><a href="#">《绯弹的亚里亚》</a></span></div>
                      <div class="mt5"><span class="bold">地区：</span><span class="color444"><a>日本</a></span></div>
                    </dd>
                    <div class="clear"></div>
                  </dl>
                </div>
                <div class="clear"></div>
                <div class="mt10">
                  <span class="bold">动漫人物介绍：</span>
                  <span class="color444">动漫作品《绯弹的亚里亚》中的女主角，英国著名侦探夏洛克·福尔摩斯的后裔，福尔摩斯四世。在第七卷可得知出生日为9月23日。没有遗传到祖先优秀推理能力的她，被家族视为废物。但性格不服输又自尊极强的亚里亚，凭借自身天生的战斗感及努力，在英国武侦界闯出了名气</span>
                  <span class="ml20"><a href="#">详情&gt;&gt;</a></span>
                </div>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="row" style="margin-top: 20px;">
      <!--左侧阅读内容-->
      <div class="col-lg-8">
        <ul class="reads">
          <li v-for="item in reads" class="single-read">
            <!--<p>{{item.Content.substr(0,100)}}……<a @click="sendParams">跳转到单个文章界面</a></p>-->
            <div class="other">
              <el-row>
                <el-col :span="20"><div class="grid-content bg-purple head-line">
                  <router-link :to="{ name: 'readDetail', query: { Id: item.Id, Time: item.Time, Type: item.Type, Content: item.Content }}">
                    <h4 v-on:click="toContent(item.Id)" style="cursor: pointer;text-align: left;">标题：{{item.Title}}</h4>
                    <!--<button @click="sendParams">传递</button>-->
                  </router-link>
                  <p class="abstract">{{item.Content.substr(0,100)}}...</p>
                  <span>作者：{{item.Author}}</span>
                  <span>测试Id：{{item.Id}}</span>
                  <span>时间：{{item.Time.substr(0,10) | formatDate}}</span>
                  <span>类型：{{item.Type}}</span>
                </div></el-col>
                <el-col :span="4"><div class="grid-content bg-purple text-img">
                  <img v-bind:src="item.Picture" style="width:125px;height:100px;vertical-align: middle;margin-top: 30px;">
                </div></el-col>
              </el-row>
            </div>
          </li>
        </ul>
        <!--分页-->
        <div class="pages">
          <!--Bootstrap-->
          <ul class="pagination">
            <li><a class="first-page" v-on:click="jumpToFirstPage()">首页</a></li>
            <li><a class="page-count"  v-on:click="jumpToPage(currentPage)">上一页</a></li>
            <li v-bind:class="{ 'active': currentPage == (index - 1)}" v-on:click="jumpToPage(index)"  v-for="index in indexs"><a class="page-count">{{index}}</a></li>
            <li><a class="page-count"  v-on:click="jumpToPage(currentPage + 2)" v-bind:class="">下一页</a></li>
            <li><a class="last-page" v-on:click="jumpToLastPage()">末页</a></li>
            <li><a>共 {{totalPages}} 页</a></li>
          </ul>
        </div>
      </div>
      <!--右侧简介内容-->
      <div class="col-lg-4" style="background-color: yellow;">
        我在右边
      </div>
    </div>

  </div>
</template>

<script>
  import $ from 'jquery'
  export default {
    name: 'reads',
    data () {
      return {
        msg: 'msg test.',
        index: '',
        reads: '',
        indexs: 3,  // 每次请求多少条数据
        pageSize: 3,
        currentPage: [],
        totalPages: 3
      }
    },
    mounted: function () {
      $('.nav_item').removeClass('active')
      $('#nav_index').addClass('active')
      var $centerwellFirst = $('#centerwell li:first')
      $centerwellFirst.animate({ width: '588px' }, 300)
      $centerwellFirst.find('h3').addClass('on')
      $('#centerwell li').click(function () {
        if (!$(this).is(':animated')) {
          $(this).animate({ width: '588px' }, 500).siblings().animate({ width: '110px' }, 450)
          $('#centerwell li h3').removeClass('on')
          $(this).find('h3').addClass('on')
        }
      })
      this.$http.get('/api/Read/GetReads?pageIndex=0&pageSize=3').then(response => {
        this.index = 1
        this.currentPage = 0
        this.reads = response.data
      })
    },
    methods: {
      jumpToPage: function (index) {
        if (index - 1 < this.totalPages) {
          this.$http.get('/api/Read/GetReads', {
            params: {
              pageIndex: index - 1,
              pageSize: this.pageSize
            }
          }).then(response => {
            this.currentPage = (index - 1)
            this.reads = response.data
          })
        }
      },
      jumpToFirstPage: function () {
        this.$http.get('/api/Read/GetReads', {params: {pageIndex: 0, pageSize: this.pageSize}}).then(response => {
          this.currentPage = 0
          this.reads = response.data
        })
      },
      jumpToLastPage: function () {
        this.$http.get('/api/Read/GetReads', {params: {pageIndex: this.totalPages - 1, pageSize: this.pageSize}}).then(response => {
          this.currentPage = this.totalPages - 1
          this.reads = response.data
        })
      },
      sendParams () {
        this.$router.push({
          name: 'readDetail',
          params: {
            msgKey: this.msg
          }
        })
      }
    }
  }
</script>

<!-- Add "scoped" attribute to limit CSS to this component only -->
<style scoped>
  @import "../../static/css/readsHead.css";
  .grid-content.bg-purple.head-line{border-bottom: 1px solid rgba(0,0,0,0.1); padding-bottom: 15px;text-align: left;margin-right: 25px;}
  .grid-content.bg-purple.head-line>span{font-size: 13px; line-height: 20px; color: #999;}
  .abstract{font-size: 13px; line-height: 20px; color: #999;text-align: left;}
  .pagination>li{cursor: pointer;}
</style>
